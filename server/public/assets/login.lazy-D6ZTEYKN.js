import{c as x,a as p,u as h,j as e,I as o,B as g,L as j,t as w}from"./index-DQlBWjLa.js";import{u as N,a as f,C as y,b as C,c as v,d as L,e as b,L as n,f as t,t as S,g as F,l as E}from"./label-cxhaHHrA.js";const P=x("/_auth/login")({component:R}),q="A login form with email and password. There's an option to login with Google and a link to sign up if you don't have an account.";function R(){const l=p(),c=h(),{isPending:a}=N(),{register:r,formState:d,handleSubmit:m}=f({resolver:S(E),defaultValues:{email:"",password:""}}),{errors:s}=d,u=async i=>{await F.email({email:i.email,password:i.password},{onError:()=>{w.error("Something went wrong")},onSuccess:()=>{c.invalidateQueries({queryKey:["user"]}),l.invalidate()}})};return e.jsxs(y,{className:"mx-auto mt-40 max-w-sm",children:[e.jsxs(C,{children:[e.jsx(v,{className:"text-2xl",children:"Login"}),e.jsx(L,{children:"Enter your email below to login to your account"})]}),e.jsxs(b,{children:[e.jsx("form",{onSubmit:m(u),children:e.jsxs("div",{className:"grid gap-8",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(o,{...r("email"),placeholder:"m@example.com",autoComplete:"email"}),s.email&&e.jsx("p",{className:"text-red-500",children:s.email.message})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{htmlFor:"password",children:"Password"}),e.jsx(t,{href:"#",className:"ml-auto inline-block text-sm underline",children:"Forgot your password?"})]}),e.jsx(o,{...r("password"),type:"password",autoComplete:"current-password"}),s.password&&e.jsx("p",{className:"text-red-500",children:s.password.message})]}),e.jsx(g,{type:"submit",disabled:a,className:"w-full",children:a?e.jsx(j,{className:"size-5 animate-spin"}):"Login"})]})}),e.jsxs("div",{className:"mt-8 text-center text-sm",children:["Don't have an account?"," ",e.jsx(t,{to:"/register",className:"underline",children:"Sign up"})]})]})]})}export{P as Route,q as description};
